<!DOCTYPE html>
<html>
  <head>
    <title>Sparta Documentation</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="generator" content="Hugo 0.44" />
<title>Reference :: Sparta Documentation</title>
<link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link href="/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/nucleus.css" rel="stylesheet">
<link href="/theme-flex/style.css" rel="stylesheet">

<link rel="stylesheet" href="/css/bootstrap.min.css">
<script src="/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "\/";
</script>


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-70794971-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-70794971-2');
</script>

<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png">
<meta name="description" content="">



<style>
  article section.page code {
      font-family:  monospace; }
</style>

    
  </head>
  <body data-url="/reference/">
    
      <header>
  <div class="logo">
    
	
  
    <p><img src="/images/SpartaLogoNoDomain.png" alt="Sparta" title="Sparta" /></p>

  

  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="/credits"  rel="noopener">
                  <i class='fa fa-bullhorn'></i> <label>Credits</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://github.com/mweagle/Sparta"  rel="noopener">
                  <i class='fa fa-github'></i> <label>Github</label>
                </a>
            </li>
    </nav>
</header>
<article>
  <aside>
    <ul class="menu">
          <li data-nav-id="/" class="dd-item">
          <a href="/">
            <i class="fa fa-fw fa-home"></i>
          </a>
          </li>
    <li data-nav-id="/overview/" class="dd-item alwaysopen
        ">
      <div>
      <a href="/overview/">Overview</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/sample_service/" class="dd-item haschildren
        ">
      <div>
      <a href="/sample_service/">Sample Service</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/sample_service/step1/" class="dd-item">
        <div>
          <a href="/sample_service/step1/">
            Overview
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/sample_service/step2/" class="dd-item">
        <div>
          <a href="/sample_service/step2/">
            Details
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/cli_options/" class="dd-item alwaysopen
        ">
      <div>
      <a href="/cli_options/">CLI Options</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/reference/" class="dd-item parent active alwaysopen haschildren
        ">
      <div>
      <a href="/reference/">Reference</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/reference/eventsources/" class="dd-item haschildren
        ">
      <div>
      <a href="/reference/eventsources/">Event Sources</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/reference/eventsources/cloudformation/" class="dd-item">
        <div>
          <a href="/reference/eventsources/cloudformation/">
            CloudFormation
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/reference/eventsources/cloudwatchevents/" class="dd-item">
        <div>
          <a href="/reference/eventsources/cloudwatchevents/">
            CloudWatch Events
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/reference/eventsources/cloudwatchlogs/" class="dd-item">
        <div>
          <a href="/reference/eventsources/cloudwatchlogs/">
            CloudWatch Logs
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/reference/eventsources/cognito/" class="dd-item">
        <div>
          <a href="/reference/eventsources/cognito/">
            Cognito
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/reference/eventsources/dynamodb/" class="dd-item">
        <div>
          <a href="/reference/eventsources/dynamodb/">
            DynamoDB
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/reference/eventsources/kinesis/" class="dd-item">
        <div>
          <a href="/reference/eventsources/kinesis/">
            Event Sources - Kinesis
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/reference/eventsources/s3/" class="dd-item">
        <div>
          <a href="/reference/eventsources/s3/">
            S3
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/reference/eventsources/ses/" class="dd-item">
        <div>
          <a href="/reference/eventsources/ses/">
            SES
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/reference/eventsources/sns/" class="dd-item">
        <div>
          <a href="/reference/eventsources/sns/">
            SNS
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/reference/eventsources/sqs/" class="dd-item">
        <div>
          <a href="/reference/eventsources/sqs/">
            SQS
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/reference/apigateway/" class="dd-item haschildren
        ">
      <div>
      <a href="/reference/apigateway/">API Gateway</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/reference/apigateway/echo_event/" class="dd-item">
        <div>
          <a href="/reference/apigateway/echo_event/">
            Echo Event
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/reference/apigateway/user_input/" class="dd-item">
        <div>
          <a href="/reference/apigateway/user_input/">
            User Input
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/reference/apigateway/context/" class="dd-item">
        <div>
          <a href="/reference/apigateway/context/">
            Request Context
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/reference/apigateway/cors/" class="dd-item">
        <div>
          <a href="/reference/apigateway/cors/">
            CORS
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/reference/apigateway/slack/" class="dd-item">
        <div>
          <a href="/reference/apigateway/slack/">
            Slack SlashCommand
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/reference/application/" class="dd-item haschildren
        ">
      <div>
      <a href="/reference/application/">Application Customization</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/reference/application/custom_commands/" class="dd-item">
        <div>
          <a href="/reference/application/custom_commands/">
            Custom Application Commands
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/reference/application/custom_flags/" class="dd-item">
        <div>
          <a href="/reference/application/custom_flags/">
            Custom Flags
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/reference/application/environments/" class="dd-item">
        <div>
          <a href="/reference/application/environments/">
            Managing Environments
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/reference/application/workflow_hooks/" class="dd-item">
        <div>
          <a href="/reference/application/workflow_hooks/">
            Workflow Hooks
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
      <li data-nav-id="/reference/cicd/" class="dd-item">
        <div>
          <a href="/reference/cicd/">
            CI/CD
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/reference/custom_resources/" class="dd-item">
        <div>
          <a href="/reference/custom_resources/">
            Custom Resources
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/reference/deployment_strategies/" class="dd-item">
        <div>
          <a href="/reference/deployment_strategies/">
            Deployment Strategies
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/reference/discovery/" class="dd-item">
        <div>
          <a href="/reference/discovery/">
            Discovery Service
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/reference/docker/" class="dd-item">
        <div>
          <a href="/reference/docker/">
            Docker
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/reference/dynamic_infrastructure/" class="dd-item">
        <div>
          <a href="/reference/dynamic_infrastructure/">
            Dynamic Infrastructure
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/reference/hybrid_topologies/" class="dd-item">
        <div>
          <a href="/reference/hybrid_topologies/">
            Hybrid Topologies
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/reference/local_testing/" class="dd-item">
        <div>
          <a href="/reference/local_testing/">
            Local Testing
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/reference/profiling/" class="dd-item">
        <div>
          <a href="/reference/profiling/">
            Profiling
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/reference/s3site/" class="dd-item">
        <div>
          <a href="/reference/s3site/">
            S3 Sites with CORS
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/reference/step_functions/" class="dd-item">
        <div>
          <a href="/reference/step_functions/">
            Step Functions
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/reference/limitations/" class="dd-item">
        <div>
          <a href="/reference/limitations/">
            Limitations
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/reference/faq/" class="dd-item">
        <div>
          <a href="/reference/faq/">
            FAQ
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/related_projects/" class="dd-item alwaysopen
        ">
      <div>
      <a href="/related_projects/">Related Projects</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/presentations/" class="dd-item
        ">
      <div>
      <a href="/presentations/">Presentations</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/credits/" class="dd-item
        ">
      <div>
      <a href="/credits/">Credits</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/meta/" class="dd-item
        ">
      <div>
      <a href="/meta/">_meta</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>




    </ul>
    <section>
    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/overview/" >
   Overview</option> 
  
    <option value="/sample_service/" >
   Sample Service</option>
    <option value="/cli_options/" >
   CLI Options</option> 
  
    <option value="/reference/"  selected>
   Reference</option> 
    <option value="/reference/eventsources/" >
  - 
   Event Sources</option>
    <option value="/reference/apigateway/" >
  - 
   API Gateway</option>
    <option value="/reference/application/" >
  - 
   Application Customization</option>
      <option value="/reference/cicd/" >- CI/CD</option>
      <option value="/reference/custom_resources/" >- Custom Resources</option>
      <option value="/reference/deployment_strategies/" >- Deployment Strategies</option>
      <option value="/reference/discovery/" >- Discovery Service</option>
      <option value="/reference/docker/" >- Docker</option>
      <option value="/reference/dynamic_infrastructure/" >- Dynamic Infrastructure</option>
      <option value="/reference/hybrid_topologies/" >- Hybrid Topologies</option>
      <option value="/reference/local_testing/" >- Local Testing</option>
      <option value="/reference/profiling/" >- Profiling</option>
      <option value="/reference/s3site/" >- S3 Sites with CORS</option>
      <option value="/reference/step_functions/" >- Step Functions</option>
      <option value="/reference/limitations/" >- Limitations</option>
      <option value="/reference/faq/" >- FAQ</option>
  
    <option value="/related_projects/" >
   Related Projects</option> 
  
    <option value="/presentations/" >
   Presentations</option>
    <option value="/credits/" >
   Credits</option>
    <option value="/meta/" >
   _meta</option>



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="Search...">
        </div>
        <script type="text/javascript" src="/js/lunr.min.js"></script>
        <script type="text/javascript" src="/js/auto-complete.js"></script>
        <link href="/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "\/";
          
        </script>
        <script type="text/javascript" src="/js/search.js"></script>
      </div>
    

    <h1>Reference</h1>
    
    
    



<div class="extra-pagination inner">
<nav class="pagination" role="navigation">
	
	<span class="page-number">Page 1 of 2</span>
	
	    <a class="older-posts" href="/reference/page/2/">Next Pages &rarr;</a>
	
</nav>

</div>


   <article class="post reference">
    <header class="post-header">
        <h2 class="post-title"><a href="/reference/cicd/">CI/CD</a></h2>
    </header>
    <section class="post-excerpt">
        <p>TODO
 CI/CD with Sparta Document the SpartaCodePipeline example. Also see the Medium Post <a class="read-more" href="/reference/cicd/">&raquo;</a></p>
    </section>
    <footer class=" footline" >
         
        

        
        

    </footer>
</article>

   <article class="post reference">
    <header class="post-header">
        <h2 class="post-title"><a href="/reference/custom_resources/">Custom Resources</a></h2>
    </header>
    <section class="post-excerpt">
        <p>Introduction In some circumstances your service may need to provision or access resources that fall outside the standard workflow. In this case you can use CloudFormation Lambda-backed CustomResources to create or access resources during your CloudFormation stack&rsquo;s lifecycle.
Sparta provides unchecked access to the CloudFormation resource lifecycle via the RequireCustomResource function. This function registers an AWS Lambda Function as an CloudFormation custom resource lifecycle.
In this section we&rsquo;ll walk through a sample user-defined custom resource and discuss how a custom resource&rsquo;s outputs can be propagated to an application-level Sparta lambda function. <a class="read-more" href="/reference/custom_resources/">&raquo;</a></p>
    </section>
    <footer class=" footline" >
         
        

        
        

    </footer>
</article>

   <article class="post reference">
    <header class="post-header">
        <h2 class="post-title"><a href="/reference/deployment_strategies/">Deployment Strategies</a></h2>
    </header>
    <section class="post-excerpt">
        <p>TODO
 Deployment Strategies Document the SpartaSafeDeploy example. <a class="read-more" href="/reference/deployment_strategies/">&raquo;</a></p>
    </section>
    <footer class=" footline" >
         
        

        
        

    </footer>
</article>

   <article class="post reference">
    <header class="post-header">
        <h2 class="post-title"><a href="/reference/discovery/">Discovery Service</a></h2>
    </header>
    <section class="post-excerpt">
        <p>Introduction The ability to provision dynamic infrastructure (see also the SES Event Source Example) as part of a Sparta application creates a need to discover those resources at lambda execution time.
Sparta exposes this functionality via sparta.Discover. This function returns information about the current stack (eg, name, region, ID) as well as metadata about the immediate dependencies of the calling go lambda function.
The following sections walk through provisioning a S3 bucket, declaring an explicit dependency on that resource, and then discovering the resource at lambda execution time. <a class="read-more" href="/reference/discovery/">&raquo;</a></p>
    </section>
    <footer class=" footline" >
         
        

        
        

    </footer>
</article>

   <article class="post reference">
    <header class="post-header">
        <h2 class="post-title"><a href="/reference/docker/">Docker</a></h2>
    </header>
    <section class="post-excerpt">
        <p>TODO
 Docker Support Document the SpartaDocker project. <a class="read-more" href="/reference/docker/">&raquo;</a></p>
    </section>
    <footer class=" footline" >
         
        

        
        

    </footer>
</article>

   <article class="post reference">
    <header class="post-header">
        <h2 class="post-title"><a href="/reference/dynamic_infrastructure/">Dynamic Infrastructure</a></h2>
    </header>
    <section class="post-excerpt">
        <p>Introduction In addition to provisioning AWS Lambda functions, Sparta supports the creation of other CloudFormation Resources. This enables a service to move towards immutable infrastructure, where the service and its infrastructure requirements are treated as a logical unit.
For instance, consider the case where two developers are working in the same AWS account.
 Developer 1 is working on analyzing text documents.  Their lambda code is triggered in response to uploading sample text documents to S3. <a class="read-more" href="/reference/dynamic_infrastructure/">&raquo;</a></p>
    </section>
    <footer class=" footline" >
         
        

        
        

    </footer>
</article>

   <article class="post reference">
    <header class="post-header">
        <h2 class="post-title"><a href="/reference/hybrid_topologies/">Hybrid Topologies</a></h2>
    </header>
    <section class="post-excerpt">
        <p>Introduction At a broad level, AWS Lambda represents a new level of compute abstraction for services. Developers don&rsquo;t immediately concern themselves with HA topologies, configuration management, capacity planning, or many of the other areas traditionally handled by operations. These are handled by the vendor supplied execution environment.
However, Lambda is a relatively new technology and is not ideally suited to certain types of tasks. For example, given the current Lambda limits, the following task types might better be handled by &ldquo;legacy&rdquo; AWS services: <a class="read-more" href="/reference/hybrid_topologies/">&raquo;</a></p>
    </section>
    <footer class=" footline" >
         
        

        
        

    </footer>
</article>

   <article class="post reference">
    <header class="post-header">
        <h2 class="post-title"><a href="/reference/local_testing/">Local Testing</a></h2>
    </header>
    <section class="post-excerpt">
        <p>While developing Sparta lambda functions it may be useful to test them locally without needing to provision each new code change. You can test your lambda functions using standard go test functionality.
To create proper event types, consider:
 AWS Lambda Go types Sparta types Use NewAPIGatewayMockRequest to generate API Gateway style requests.   <a class="read-more" href="/reference/local_testing/">&raquo;</a></p>
    </section>
    <footer class=" footline" >
         
        

        
        

    </footer>
</article>

   <article class="post reference">
    <header class="post-header">
        <h2 class="post-title"><a href="/reference/profiling/">Profiling</a></h2>
    </header>
    <section class="post-excerpt">
        <p>Introduction One of Lambda&rsquo;s biggest strengths, its ability to automatically scale across ephemeral containers in response to increased load, also creates one of its biggest problems: observability. The traditional set of tools used to identify performance bottlenecks are no longer valid, as there is no host into which one can SSH and interactively interrogate. Identifying performance bottlenecks is even more significant due to the Lambda pricing model, where idle time often directly translates into increased costs. <a class="read-more" href="/reference/profiling/">&raquo;</a></p>
    </section>
    <footer class=" footline" >
         
        

        
        

    </footer>
</article>

   <article class="post reference">
    <header class="post-header">
        <h2 class="post-title"><a href="/reference/s3site/">S3 Sites with CORS</a></h2>
    </header>
    <section class="post-excerpt">
        <p>Sparta supports provisioning an S3-backed static website as part of provisioning. We&rsquo;ll walk through provisioning a minimal Bootstrap website that accesses API Gateway lambda functions provisioned by a single service in this example.
The source for this is the SpartaHTML example application.
Create the Lambda function We&rsquo;ll start by creating a very simple lambda function:
import ( spartaAPIG &#34;github.com/mweagle/Sparta/aws/apigateway&#34; spartaAWSEvents &#34;github.com/mweagle/Sparta/aws/events&#34; ) type helloWorldResponse struct { Message string Request spartaAWSEvents. <a class="read-more" href="/reference/s3site/">&raquo;</a></p>
    </section>
    <footer class=" footline" >
         
        

        
        

    </footer>
</article>


<div style="margin-bottom:2rem"></div>

<nav class="pagination" role="navigation">
	
	<span class="page-number">Page 1 of 2</span>
	
	    <a class="older-posts" href="/reference/page/2/">Next Pages &rarr;</a>
	
</nav>




    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="/cli_options/" title="CLI Options"> <i class="fa fa-chevron-left"></i><label>CLI Options</label></a>
    <a class="nav nav-next" href="/reference/eventsources/" title="Event Sources" style="margin-right: 0px;"><label>Event Sources</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

  
    <div class="date">
        <i class='fa fa-calendar'></i> Last update on 22/01/2018
    </div>
    

    <div class="github-link">
      <a href="https://github.com/mweagle/Sparta/tree/docs/content/reference/_index.md" target="blank"><i class="fa fa-code-fork"></i>
        Improve this page</a>
    </div>
  </div>


	<div>


  
    
  



	</div>
</footer>

<script src="/js/clipboard.min.js"></script>

<link href="/css/featherlight.min.css" rel="stylesheet">
<script src="/js/featherlight.min.js"></script>



<script src="/theme-flex/script.js"></script>

    

    
    

    
  </body>
</html>